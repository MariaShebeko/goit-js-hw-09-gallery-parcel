{"version":3,"sources":["src/js/index.js"],"names":["galleryItems","preview","original","description","refs","galleryContainer","document","querySelector","lightboxEl","lightboxOverlayEl","lightBoxContent","lightboxImageEl","lightboxButtonEl","galleryMarkup","createGalleryMarkup","items","map","join","onGalleryItemClick","evt","preventDefault","target","classList","contains","onModalOpen","getImageAttribute","dataset","source","alt","window","addEventListener","keyPress","add","src","onModalClose","removeEventListener","remove","onBackdropClick","currentTarget","code","onRightArrowClick","onLeftArrowClick","indexOfCurrentImage","findIndex","image","length","insertAdjacentHTML"],"mappings":"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","file":"js.219bccce.js","sourceRoot":"..","sourcesContent":["const galleryItems = [\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg\",\r\n    description: \"Hokkaido Flower\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg\",\r\n    description: \"Container Haulage Freight\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg\",\r\n    description: \"Aerial Beach View\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg\",\r\n    description: \"Flower Blooms\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg\",\r\n    description: \"Alpine Mountains\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg\",\r\n    description: \"Mountain Lake Sailing\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg\",\r\n    description: \"Alpine Spring Meadows\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg\",\r\n    description: \"Nature Landscape\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg\",\r\n    description: \"Lighthouse Coast Sea\",\r\n  },\r\n];\r\n\r\nconst refs = {\r\n  galleryContainer: document.querySelector(\".js-gallery\"),\r\n  lightboxEl: document.querySelector(\".js-lightbox\"),\r\n  lightboxOverlayEl: document.querySelector(\".lightbox__overlay\"),\r\n  lightBoxContent: document.querySelector(\".lightbox__content\"),\r\n  lightboxImageEl: document.querySelector(\".lightbox__image\"),\r\n  lightboxButtonEl: document.querySelector('[data-action=\"close-lightbox\"]'),\r\n};\r\n\r\nconst galleryMarkup = createGalleryMarkup(galleryItems);\r\nrefs.galleryContainer.insertAdjacentHTML(\"beforeend\", galleryMarkup);\r\n\r\nfunction createGalleryMarkup(items) {\r\n  return items\r\n    .map(({ preview, original, description }) => {\r\n      return `<li class = \"gallery__item\">\r\n    <a class=\"gallery__link\"\r\n    href=\"${original}\">\r\n    <img class=\"gallery__image\"\r\n    src = ${preview}\r\n    data-source = ${original}\r\n    alt = ${description}>\r\n    </a>\r\n    </li>`;\r\n    })\r\n    .join(\"\");\r\n}\r\n\r\nrefs.galleryContainer.addEventListener(\"click\", onGalleryItemClick);\r\n\r\nfunction onGalleryItemClick(evt) {\r\n  evt.preventDefault();\r\n  const isGalleryImage = evt.target.classList.contains(\"gallery__image\");\r\n  if (!isGalleryImage) {\r\n    return;\r\n  }\r\n  onModalOpen();\r\n  getImageAttribute(evt.target.dataset.source, evt.target.alt);\r\n}\r\n\r\nfunction onModalOpen() {\r\n  window.addEventListener(\"keydown\", keyPress);\r\n  refs.lightboxEl.classList.add(\"is-open\");\r\n}\r\n\r\nfunction getImageAttribute(src, alt) {\r\n  refs.lightboxImageEl.src = src;\r\n  refs.lightboxImageEl.alt = alt;\r\n}\r\n\r\nrefs.lightboxButtonEl.addEventListener(\"click\", onModalClose);\r\n\r\nfunction onModalClose() {\r\n  window.removeEventListener(\"keydown\", keyPress);\r\n  refs.lightboxEl.classList.remove(\"is-open\");\r\n\r\n  getImageAttribute(\"\", \"\");\r\n}\r\n\r\nrefs.lightboxOverlayEl.addEventListener(\"click\", onBackdropClick);\r\nfunction onBackdropClick(evt) {\r\n  if (evt.target === evt.currentTarget) {\r\n    onModalClose();\r\n  }\r\n}\r\n\r\nfunction keyPress(evt) {\r\n  if (evt.code === \"Escape\") {\r\n    onModalClose();\r\n  }\r\n  if (evt.code === \"ArrowRight\") {\r\n    onRightArrowClick();\r\n  }\r\n  if (evt.code === \"ArrowLeft\") {\r\n    onLeftArrowClick();\r\n  }\r\n}\r\n\r\nfunction onRightArrowClick() {\r\n  const indexOfCurrentImage = galleryItems.findIndex(\r\n    (image) => image.original === refs.lightboxImageEl.src\r\n  );\r\n  if (indexOfCurrentImage !== galleryItems.length - 1) {\r\n    refs.lightboxImageEl.src = galleryItems[indexOfCurrentImage + 1].original;\r\n    refs.lightboxImageEl.alt =\r\n      galleryItems[indexOfCurrentImage + 1].description;\r\n  } else {\r\n    refs.lightboxImageEl.src = galleryItems[0].original;\r\n    refs.lightboxImageEl.alt = galleryItems[0].description;\r\n  }\r\n}\r\n\r\nfunction onLeftArrowClick() {\r\n  const indexOfCurrentImage = galleryItems.findIndex(\r\n    (image) => image.original === refs.lightboxImageEl.src\r\n  );\r\n  if (indexOfCurrentImage !== 0) {\r\n    refs.lightboxImageEl.src = galleryItems[indexOfCurrentImage - 1].original;\r\n    refs.lightboxImageEl.alt =\r\n      galleryItems[indexOfCurrentImage - 1].description;\r\n  } else {\r\n    refs.lightboxImageEl.src = galleryItems[galleryItems.length - 1].original;\r\n    refs.lightboxImageEl.alt =\r\n      galleryItems[galleryItems.length - 1].description;\r\n  }\r\n}\r\n"]}